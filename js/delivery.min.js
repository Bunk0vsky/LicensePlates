let QUERY_ALL_DELIVERY = encodeURIComponent(
    '*[_type == "delivery"]{\n...,\n\n} '
  ),
  URL_to_get_delivery = `https://${PROJECT_ID}.api.sanity.io/v2021-10-21/data/query/${DATASET}?query=${QUERY_ALL_DELIVERY}`;
const getDelivery = () => {
    fetch(URL_to_get_delivery)
      .then((e) => e.json())
      .then(({ result: e }) => {
        if (e.length > 0) {
          const t = document.getElementById("delivery-table-body");
          t &&
            !document.querySelector(".price-column") &&
            e.forEach((e) => {
              const n = document.createElement("tr");
              t.appendChild(n);
              const o = document.createElement("td");
              (o.textContent = e.options), n.appendChild(o);
              const d = document.createElement("td");
              (d.className = "price-column"),
                (d.textContent = `${e.price} zÅ‚`),
                n.appendChild(d);
            });
        }
      });
  },
  handleModal = () => {
    document.querySelectorAll("[data-modal]").forEach(function (e) {
      const t = document.getElementById(e.dataset.modal);
      t.classList.add("open");
      t.querySelectorAll(".modal-exit").forEach(function (e) {
        e.addEventListener("click", function (e) {
          e.preventDefault(), t.classList.remove("open");
        });
      });
    });
  };
window.addEventListener("hashchange", (e) => {
  e.newURL.includes("dostawa") && (getDelivery(), handleModal());
}),
  window.addEventListener("load", (e) => {
    "#dostawa" === e.currentTarget.location.hash &&
      (getDelivery(), handleModal());
  });
