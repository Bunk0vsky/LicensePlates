function getConditionStatus(e){let t="";switch(e){case"Roadkill":t="road-kill";break;case"Słaby":t="poor";break;case"Dostateczny":t="sufficent";break;case"Dobry":t="good";break;case"Bardzo dobry":t="very-good"}return t}const conditionElement='<div class="element"></div> \n<div class="element"></div>\n<div class="element"></div>\n<div class="element"></div> \n<div class="element"></div>';let PROJECT_ID="3gobi7i4",DATASET="production",lastId="",QUERY_ALL_PLATES_PROMO=encodeURIComponent('*[_type == "plate" && isPromo == true][0...4]{\n...,\n"imageUrl": src.asset->url\n} | order(_createdAt asc)'),QUERY_ALL_PLATES_NEW=encodeURIComponent('*[_type == "plate" && isPromo != true][0...4]{\n...,\n"imageUrl": src.asset->url\n} | order(_createdAt asc)'),QUERY_ONLY_PLATES_PROMO=encodeURIComponent('*[_type == "plate" && isPromo == true]{\n  ...,\n  "imageUrl": src.asset->url\n  } | order(_createdAt asc)'),URL_to_get_plates=`https://${PROJECT_ID}.api.sanity.io/v2021-10-21/data/query/${DATASET}?query=${QUERY_ALL_PLATES_PROMO}`,URL_to_get_new_plates=`https://${PROJECT_ID}.api.sanity.io/v2021-10-21/data/query/${DATASET}?query=${QUERY_ALL_PLATES_NEW}`,URL_to_get_promo_plates=`https://${PROJECT_ID}.api.sanity.io/v2021-10-21/data/query/${DATASET}?query=${QUERY_ONLY_PLATES_PROMO}`;const generatePlate=(e,t)=>{const a=document.createElement("div");a.className="shop-wrapper",t.appendChild(a);const n=document.createElement("div");n.className="shop",n.setAttribute("onclick","openShopCard(this);"),n.setAttribute("data-modal",e._id),a.appendChild(n);const o=document.createElement("div");o.className="image-wrapper",n.appendChild(o);const s=document.createElement("img");s.className="shop-img",s.src=e.imageUrl||"/img/no-image.svg",s.alt=e.alt,s.loading="lazy",o.appendChild(s);const l=document.createElement("div");l.className="shop-content",n.appendChild(l);const d=document.createElement("div");l.appendChild(d);let c="Reszta Świata"===e.country?e.alt:"",i="Zestawy tablic"===e.country?e.alt:"",r="Ramki"===e.country?e.alt:"",m="Reszta Świata"!==e.country&&"Zestawy tablic"!==e.country&&"Ramki"!==e.country?e.country:"";const p=document.createElement("p");p.className="shop-title",p.innerHTML=e.state||m||c||i||r,d.appendChild(p);const h=document.createElement("p");h.className="shop-size",h.innerHTML=e.sizeLength?`<span data-translate="shopPlateSize">Wymiary:</span> ${e.sizeLength} x ${e.sizeWidth}`:"",d.appendChild(h);const u=document.createElement("p");u.className="shop-year",u.textContent=e.year&&`Rok: ${e.year}`,d.appendChild(u);const E=document.createElement("p");E.className="shop-condition",E.innerHTML='<span data-translate="shopPlateStatus">Status: </span>',d.appendChild(E);const y=document.createElement("div"),g=getConditionStatus(e.condition);y.classList=`condition-bar ${g}`,y.innerHTML=conditionElement,E.appendChild(y);const C=document.createElement("p");C.className="shop-pricing",l.appendChild(C);const L=document.createElement("span");L.textContent=`PLN ${e.price}`,C.appendChild(L);const P=document.createElement("div");P.className="modal",P.id=e._id,a.appendChild(P);const _=document.createElement("div");_.className="modal-bg modal-exit",P.appendChild(_);const v=document.createElement("div");v.className="modal-container",P.appendChild(v);const b=document.createElement("div");b.className="modal-card",v.appendChild(b);const N=document.createElement("img");N.className="modal-img",N.src=e.imageUrl||"/img/no-image.svg",N.alt=e.alt,N.loading="lazy",b.appendChild(N);const $=document.createElement("div");$.className="modal-card",v.appendChild($);const R="Reszta Świata"===e.country?` <span data-translate="modalShopPlateCountry">Kraj: </span>${e.alt}`:"",S="Zestawy tablic"===e.country?`<span data-translate="modalShopPlateItem">Przedmiot: </span>${e.alt}`:"",T="Ramki"===e.country?`<span data-translate="modalShopPlateItem">Przedmiot: </span>${e.alt}`:"",z="Reszta Świata"!==e.country&&"Zestawy tablic"!==e.country&&"Ramki"!==e.country?` <span data-translate="modalShopPlateCountry">Kraj: </span>${e.country}`:"",M=document.createElement("p");M.innerHTML=`${R} ${S} ${T} ${z}`,$.appendChild(M);const f=e.state,w=document.createElement("p");w.innerHTML=f?`<span data-translate="modalShopPlateState">Stan: </span> ${e.state}`:"",$.appendChild(w);const I=document.createElement("p");I.innerHTML=e.sizeLength?`<span data-translate="modalShopPlateSize">Wymiary tablicy: </span> ${e.sizeLength} x ${e.sizeWidth}`:"",$.appendChild(I);const x=document.createElement("p");x.innerHTML=e.year?`<span data-translate="modalShopYear">Rok wydania:</span> ${e.year}`:"",$.appendChild(x);const A=document.createElement("p");A.style="display: flex; align-items: center; ",A.innerHTML='<span data-translate="modalShopPlateStatus">Status: </span>',$.appendChild(A);const U=document.createElement("div"),k=getConditionStatus(e.condition);U.classList=`condition-bar ${k}`,U.innerHTML=conditionElement,A.appendChild(U);const H=document.createElement("div");H.className="modal-price",$.appendChild(H);const B=document.createElement("p");B.textContent=`PLN ${e.price}`,H.appendChild(B);const O=document.createElement("button");O.className="modal-close modal-exit",O.textContent="X",v.appendChild(O)};function generatePromoPlate(e,t){const a=document.createElement("div");a.className="promo-wrapper",t.appendChild(a);const n=document.createElement("div");n.className="promo",n.setAttribute("onclick","openShopCard(this);"),n.setAttribute("data-modal",e._id),a.appendChild(n);const o=document.createElement("div");o.className="image-wrapper",n.appendChild(o);const s=document.createElement("img");s.className="promo-img",s.src=e.imageUrl||"/img/no-image.svg",s.alt=e.alt,s.loading="lazy",o.appendChild(s);const l=document.createElement("div");l.className="promo-content",n.appendChild(l);const d=document.createElement("div");l.appendChild(d);const c="Reszta Świata"===e.country?e.alt:"",i="Zestawy tablic"===e.country?e.alt:"",r="Ramki"===e.country?e.alt:"",m="Reszta Świata"!==e.country&&"Zestawy tablic"!==e.country&&"Ramki"!==e.country?e.country:"",p=document.createElement("p");p.className="promo-title",p.innerHTML=e.state||m||c||i||r,d.appendChild(p);const h=document.createElement("p");h.className="promo-size",h.innerHTML=e.sizeLength?`<span data-translate="promoPlateSize">Wymiary:</span> ${e.sizeLength} x ${e.sizeWidth}`:"",d.appendChild(h);const u=document.createElement("p");u.className="promo-year",u.textContent=e.year&&`Rok: ${e.year}`,d.appendChild(u);const E=document.createElement("p");E.style="display: flex; align-items: center; ",E.className="promo-condition",E.innerHTML='<span data-translate="promoPlateStatus">Status: </span>',d.appendChild(E);const y=document.createElement("div"),g=getConditionStatus(e.condition);y.classList=`condition-bar ${g}`,y.innerHTML=conditionElement,E.appendChild(y);const C=document.createElement("p");C.className="promo-pricing",l.appendChild(C);const L=document.createElement("span");L.className="old-price",L.textContent=`PLN ${e.oldPrice}`,C.appendChild(L);const P=document.createElement("span");P.textContent=`PLN ${e.price}`,C.appendChild(P);const _=document.createElement("div");_.className="modal",_.id=e._id,a.appendChild(_);const v=document.createElement("div");v.className="modal-bg modal-exit",_.appendChild(v);const b=document.createElement("div");b.className="modal-container",_.appendChild(b);const N=document.createElement("div");N.className="modal-card",b.appendChild(N);const $=document.createElement("img");$.className="modal-img",$.src=e.imageUrl||"/img/no-image.svg",$.alt=e.alt,$.loading="lazy",N.appendChild($);const R=document.createElement("div");R.className="modal-card",b.appendChild(R);const S="Reszta Świata"===e.country?` <span data-translate="promoModalShopPlateCountry">Kraj: </span>${e.alt}`:"",T="Zestawy tablic"===e.country?`<span data-translate="promoModalodalShopPlateItem">Przedmiot: </span>${e.alt}`:"",z="Ramki"===e.country?`<span data-translate="promoModalodalShopPlateItem">Przedmiot: </span>${e.alt}`:"",M="Reszta Świata"!==e.country&&"Zestawy tablic"!==e.country&&"Ramki"!==e.country?` <span data-translate="promoModalPlateCountry">Kraj: </span>${e.country}`:"",f=document.createElement("p"),w=e.state;f.innerHTML=`${S} ${T} ${z} ${M}`,R.appendChild(f);const I=document.createElement("p");I.innerHTML=w?`<span data-translate="promoModalPlateState">Stan: </span> ${e.state}`:"",R.appendChild(I);const x=document.createElement("p");x.innerHTML=e.sizeLength?`<span data-translate="promoModalPlateSize">Wymiary tablicy:</span> ${e.sizeLength} x ${e.sizeWidth}`:"",R.appendChild(x);const A=document.createElement("p");A.innerHTML=e.year?`<span>Rok wydania:</span> ${e.year}`:"",R.appendChild(A);const U=document.createElement("p");U.style="display: flex; align-items: center; ",U.innerHTML='<span data-translate="promoModalPlateStatus">Status: </span>',R.appendChild(U);const k=document.createElement("div"),H=getConditionStatus(e.condition);k.classList=`condition-bar ${H}`,k.innerHTML=conditionElement,U.appendChild(k);const B=document.createElement("div");B.className="promo-modal-price",R.appendChild(B);const O=document.createElement("p");O.className="old-price",O.style="font-size: 1.4rem",O.textContent=`PLN ${e.oldPrice}`,B.appendChild(O);const j=document.createElement("p");j.className="current-price",j.style="font-size: 2.0rem",j.textContent=`PLN ${e.price}`,B.appendChild(j);const D=document.createElement("button");D.className="modal-close modal-exit",D.textContent="X",b.appendChild(D)}const getPlates=()=>{fetch(URL_to_get_plates).then((e=>e.json())).then((({result:e})=>{const t=document.getElementById("banner-index"),a=document.getElementById("loader-index");if(e.length>0){const n=document.getElementById("promo-bar");a?.classList?.add("hidden"),t?.classList.remove("visible"),n&&e.forEach((e=>{generatePromoPlate(e,n)}))}else 0===e.length&&t&&(t?.classList.add("visible"),a?.classList?.add("hidden"))})).catch((e=>console.error(e))),fetch(URL_to_get_new_plates).then((e=>e.json())).then((({result:e})=>{const t=document.getElementById("banner");if(e?.length>0){const a=document.getElementById("shop-bar-main");t?.classList?.remove("visible"),a&&e.filter((e=>!e.isPromo)).forEach((e=>{a&&generatePlate(e,a)}))}else 0===e.length&&t?.classList?.add("visible")}))};fetch(URL_to_get_plates).then((e=>e.json())).then((({result:e})=>{const t=document.getElementById("banner-index"),a=document.getElementById("loader-index");if(e.length>0){const n=document.getElementById("promo-bar");a?.classList?.add("hidden"),t?.classList.remove("visible"),n&&e.forEach((e=>{generatePromoPlate(e,n)}))}else 0===e.length&&t&&(t?.classList.add("visible"),a?.classList?.add("hidden"))})).catch((e=>console.error(e))),fetch(URL_to_get_new_plates).then((e=>e.json())).then((({result:e})=>{const t=document.getElementById("banner");if(e?.length>0){const a=document.getElementById("shop-bar-main");t?.classList?.remove("visible"),a&&e.filter((e=>!e.isPromo)).forEach((e=>{a&&generatePlate(e,a)}))}else 0===e.length&&t?.classList?.add("visible")}));const getPromoPlates=()=>{fetch(URL_to_get_promo_plates).then((e=>e.json())).then((({result:e})=>{const t=document.getElementById("loader-promo"),a=document.getElementById("banner-promo");if(e.length>0){const n=document.getElementById("promo-bar-page");t?.classList?.add("hidden"),a?.classList.remove("visible"),n&&e.forEach((e=>{generatePromoPlate(e,n)}))}else 0===e.length&&(t?.classList?.add("hidden"),a?.classList?.add("visible"))})).catch((e=>console.error(e)))};window.addEventListener("load",(e=>{"#promocje"===e.currentTarget.location.hash&&fetch(URL_to_get_promo_plates).then((e=>e.json())).then((({result:e})=>{const t=document.getElementById("loader-promo"),a=document.getElementById("banner-promo");if(e.length>0){const n=document.getElementById("promo-bar-page");t?.classList?.add("hidden"),a?.classList.remove("visible"),n&&e.forEach((e=>{generatePromoPlate(e,n)}))}else 0===e.length&&(t?.classList?.add("hidden"),a?.classList?.add("visible"))})).catch((e=>console.error(e)))}));