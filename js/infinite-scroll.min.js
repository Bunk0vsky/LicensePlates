var currentPage = 1,
  pageDisplay = 20;
const infiniteSCroll = async (e) => {
    const t = document.getElementById("card-count"),
      n = document.getElementById("card-total"),
      a = document.getElementById("scroll-loader");
    let o = e;
    const s = pageDisplay,
      i = Math.ceil(o / s);
    var r;
    n.innerHTML = o;
    const c = async (e) => {
        const n = e == i ? o : e * s;
        (t.innerHTML = n),
          e > 1 &&
            e <= i &&
            (await displayMore(), translation(), (currentPage = e)),
          e === i && d();
      },
      l = () => {
        var e, t;
        (e = () => {
          window.innerHeight + window.pageYOffset + 360 >=
            document.body.offsetHeight &&
            currentPage < i &&
            ((platesStartRange += pageDisplay),
            (platesEndRange += pageDisplay),
            c(currentPage + 1)),
            currentPage === i && d();
        }),
          (t = 1e3),
          r ||
            ((r = !0),
            setTimeout(() => {
              e(), (r = !1);
            }, t));
      },
      d = () => {
        a?.remove(), window.removeEventListener("scroll", l);
      };
    window.addEventListener("scroll", l), await c(currentPage);
  },
  shopActions = async () => {
    const e = await displayMore();
    translation(), infiniteSCroll(e?.count || 0), getStates();
  };
"#sklep" === window.location.hash && shopActions(),
  window.addEventListener("load", async (e) => {
    "#sklep" === e.currentTarget.location.hash && (await shopActions());
  });
