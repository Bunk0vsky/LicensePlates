var cardLimit,
  currentPage = 1,
  pageDisplay = 20;
const infiniteSCroll = async (t) => {
    const e = document.getElementById("card-count"),
      n = document.getElementById("card-total");
    let a = document.getElementById("scroll-loader");
    cardLimit = t;
    const i = pageDisplay,
      o = Math.ceil(cardLimit / i);
    let r;
    n.innerHTML = cardLimit;
    const c = async (t) => {
        const n = t === o ? cardLimit : t * i;
        if (((e.innerHTML = n), t > 1 && t <= o)) {
          const e = await displayMore();
          translation(), 0 === e.list.length ? l() : (currentPage = t);
        }
        t === o && l();
      },
      s = () => {
        var t, e;
        (t = () => {
          const t =
              window.innerHeight + window.pageYOffset + 400 >=
              document.body.offsetHeight,
            e = Math.ceil(cardLimit / i);
          t &&
            currentPage < e &&
            ((platesStartRange += pageDisplay),
            (platesEndRange += pageDisplay),
            c(currentPage + 1)),
            currentPage === e && l();
        }),
          (e = 1e3),
          r ||
            ((r = !0),
            setTimeout(() => {
              t(), (r = !1);
            }, e));
      },
      l = () => {
        a.remove(), window.removeEventListener("scroll", s);
      };
    window.addEventListener("scroll", s), await c(currentPage);
  },
  shopActions = async () => {
    const t = await displayMore();
    translation(), infiniteSCroll(t?.count || 0), getStates();
  };
"#sklep" === window.location.hash && shopActions(),
  window.addEventListener("load", async (t) => {
    "#sklep" === t.currentTarget.location.hash && (await shopActions());
  });
